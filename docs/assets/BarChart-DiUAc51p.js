import{r as u,o as g,aR as h,bB as y,c as f,m as _,w as r,l as c,a1 as w,Y as l,n as x,C as v}from"./index-BFIPRRcq.js";/* empty css                */import{E as b}from"./el-tooltip-CUhuhmaS.js";import{_ as S}from"./index-CrAszETK.js";import{g as C,i as E}from"./index-BhUbKimU.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as B}from"./index-YcaNCpNb.js";import"./isUndefined-DCTLXrZ8.js";const I={class:"title"},z=["id"],N={__name:"BarChart",props:{id:{type:String,default:"barChart"},className:{type:String,default:""},width:{type:String,default:"200px",required:!0},height:{type:String,default:"300px",required:!0}},setup(o){const s=o,d={grid:{left:"3%",right:"3%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow",crossStyle:{color:"#999"}}},legend:{x:"center",y:"bottom",data:["诸子百家","律诗","词牌","药典"],textStyle:{color:"#999"}},xAxis:[{type:"category",data:["商周","秦汉","魏晋","唐朝","宋朝","元朝","明朝","清朝"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value"}],series:[{name:"诸子百家",type:"bar",data:[128,31,99,33,30,21,81,36],itemStyle:{color:"#ee3f4d"}},{name:"律诗",type:"bar",data:[180,112,190,360,270,55,136,98],itemStyle:{color:"#2486b9"}},{name:"词牌",type:"bar",data:[60,45,81,280,381,70,128,90],itemStyle:{color:"#1a6840"}},{name:"药典",type:"bar",data:[33,55,66,99,108,80,96,72],itemStyle:{color:"#d6a01d"}}]},m=()=>{const t=new Image;t.src=a.value.getDataURL({type:"png",pixelRatio:1,backgroundColor:"#fff"}),t.onload=()=>{const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const i=n.getContext("2d");if(i){i.drawImage(t,0,0,t.width,t.height);const e=document.createElement("a");e.download="作品趋势图.png",e.href=n.toDataURL("image/png",.9),document.body.appendChild(e),e.click(),e.remove()}}},a=u("");return g(()=>{let t=C(document.getElementById(s.id));t==null&&(t=h(E(document.getElementById(s.id)))),a.value=t,a.value.setOption(d),window.addEventListener("resize",()=>{a.value.resize()})}),y(()=>{a.value&&a.value.resize()}),(t,n)=>{const i=S,e=b,p=B;return f(),_(p,null,{header:r(()=>[c("div",I,[w(" 作品趋势图 "),l(e,{effect:"dark",content:"点击试试下载",placement:"bottom"},{default:r(()=>[l(i,{"icon-class":"download",onClick:m})]),_:1})])]),default:r(()=>[c("div",{id:o.id,class:x(o.className),style:v({height:o.height,width:o.width})},null,14,z)]),_:1})}}},U=k(N,[["__scopeId","data-v-d9f33a87"]]);export{U as default};
