import{bE as ae,aO as P,bF as re,b as $,_ as D,d as B,k as Q,a as Z,bf as ne,r as y,A as H,bg as se,b0 as M,bn as F,c as N,m as A,w as J,W as le,l as W,n as R,g as E,C as I,a3 as oe,ac as ie,x as ce,e as ee,Y as K,L as ue,h as fe,F as ve,aQ as L,B as U,z as X,bk as me,V as Y,p as de,S as pe,o as he,bG as be,f as ye,q as ge,Z as Se,bm as we,s as ze}from"./index-BFIPRRcq.js";var Ee=/\s/;function Te(e){for(var n=e.length;n--&&Ee.test(e.charAt(n)););return n}var _e=/^\s+/;function ke(e){return e&&e.slice(0,Te(e)+1).replace(_e,"")}var V=NaN,xe=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,He=/^0o[0-7]+$/i,Le=parseInt;function q(e){if(typeof e=="number")return e;if(ae(e))return V;if(P(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=P(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ke(e);var o=Ce.test(e);return o||He.test(e)?Le(e.slice(2),o?2:8):xe.test(e)?V:+e}var O=function(){return re.Date.now()},Ne="Expected a function",Re=Math.max,Be=Math.min;function qe(e,n,o){var l,u,f,m,i,s,p=0,w=!1,r=!1,c=!0;if(typeof e!="function")throw new TypeError(Ne);n=q(n)||0,P(o)&&(w=!!o.leading,r="maxWait"in o,f=r?Re(q(o.maxWait)||0,n):f,c="trailing"in o?!!o.trailing:c);function h(a){var d=l,S=u;return l=u=void 0,p=a,m=e.apply(S,d),m}function g(a){return p=a,i=setTimeout(b,n),w?h(a):m}function T(a){var d=a-s,S=a-p,x=n-d;return r?Be(x,f-S):x}function z(a){var d=a-s,S=a-p;return s===void 0||d>=n||d<0||r&&S>=f}function b(){var a=O();if(z(a))return v(a);i=setTimeout(b,T(a))}function v(a){return i=void 0,c&&l?h(a):(l=u=void 0,m)}function t(){i!==void 0&&clearTimeout(i),p=0,l=s=u=i=void 0}function _(){return i===void 0?m:v(O())}function k(){var a=O(),d=z(a);if(l=arguments,u=this,s=a,d){if(i===void 0)return g(s);if(r)return clearTimeout(i),i=setTimeout(b,n),h(s)}return i===void 0&&(i=setTimeout(b,n)),m}return k.cancel=t,k.flush=_,k}const C=4,Oe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Pe=({move:e,size:n,bar:o})=>({[o.size]:n,transform:`translate${o.axis}(${e}%)`}),j=Symbol("scrollbarContextKey"),Me=$({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Ae="Thumb",We=B({__name:"thumb",props:Me,setup(e){const n=e,o=Q(j),l=Z("scrollbar");o||ne(Ae,"can not inject scrollbar context");const u=y(),f=y(),m=y({}),i=y(!1);let s=!1,p=!1,w=ce?document.onselectstart:null;const r=H(()=>Oe[n.vertical?"vertical":"horizontal"]),c=H(()=>Pe({size:n.size,move:n.move,bar:r.value})),h=H(()=>u.value[r.value.offset]**2/o.wrapElement[r.value.scrollSize]/n.ratio/f.value[r.value.offset]),g=a=>{var d;if(a.stopPropagation(),a.ctrlKey||[1,2].includes(a.button))return;(d=window.getSelection())==null||d.removeAllRanges(),z(a);const S=a.currentTarget;S&&(m.value[r.value.axis]=S[r.value.offset]-(a[r.value.client]-S.getBoundingClientRect()[r.value.direction]))},T=a=>{if(!f.value||!u.value||!o.wrapElement)return;const d=Math.abs(a.target.getBoundingClientRect()[r.value.direction]-a[r.value.client]),S=f.value[r.value.offset]/2,x=(d-S)*100*h.value/u.value[r.value.offset];o.wrapElement[r.value.scroll]=x*o.wrapElement[r.value.scrollSize]/100},z=a=>{a.stopImmediatePropagation(),s=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",v),w=document.onselectstart,document.onselectstart=()=>!1},b=a=>{if(!u.value||!f.value||s===!1)return;const d=m.value[r.value.axis];if(!d)return;const S=(u.value.getBoundingClientRect()[r.value.direction]-a[r.value.client])*-1,x=f.value[r.value.offset]-d,te=(S-x)*100*h.value/u.value[r.value.offset];o.wrapElement[r.value.scroll]=te*o.wrapElement[r.value.scrollSize]/100},v=()=>{s=!1,m.value[r.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v),k(),p&&(i.value=!1)},t=()=>{p=!1,i.value=!!n.size},_=()=>{p=!0,i.value=s};se(()=>{k(),document.removeEventListener("mouseup",v)});const k=()=>{document.onselectstart!==w&&(document.onselectstart=w)};return M(F(o,"scrollbarElement"),"mousemove",t),M(F(o,"scrollbarElement"),"mouseleave",_),(a,d)=>(N(),A(ie,{name:E(l).b("fade"),persisted:""},{default:J(()=>[le(W("div",{ref_key:"instance",ref:u,class:R([E(l).e("bar"),E(l).is(E(r).key)]),onMousedown:T},[W("div",{ref_key:"thumb",ref:f,class:R(E(l).e("thumb")),style:I(E(c)),onMousedown:g},null,38)],34),[[oe,a.always||i.value]])]),_:1},8,["name"]))}});var G=D(We,[["__file","thumb.vue"]]);const Ie=$({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),$e=B({__name:"bar",props:Ie,setup(e,{expose:n}){const o=e,l=Q(j),u=y(0),f=y(0),m=y(""),i=y(""),s=y(1),p=y(1);return n({handleScroll:c=>{if(c){const h=c.offsetHeight-C,g=c.offsetWidth-C;f.value=c.scrollTop*100/h*s.value,u.value=c.scrollLeft*100/g*p.value}},update:()=>{const c=l==null?void 0:l.wrapElement;if(!c)return;const h=c.offsetHeight-C,g=c.offsetWidth-C,T=h**2/c.scrollHeight,z=g**2/c.scrollWidth,b=Math.max(T,o.minSize),v=Math.max(z,o.minSize);s.value=T/(h-T)/(b/(h-b)),p.value=z/(g-z)/(v/(g-v)),i.value=b+C<h?`${b}px`:"",m.value=v+C<g?`${v}px`:""}}),(c,h)=>(N(),ee(ue,null,[K(G,{move:u.value,ratio:p.value,size:m.value,always:c.always},null,8,["move","ratio","size","always"]),K(G,{move:f.value,ratio:s.value,size:i.value,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var De=D($e,[["__file","bar.vue"]]);const je=$({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...ve(["ariaLabel","ariaOrientation"])}),Fe={scroll:({scrollTop:e,scrollLeft:n})=>[e,n].every(L)},Ke="ElScrollbar",Ue=B({name:Ke}),Xe=B({...Ue,props:je,emits:Fe,setup(e,{expose:n,emit:o}){const l=e,u=Z("scrollbar");let f,m;const i=y(),s=y(),p=y(),w=y(),r=H(()=>{const t={};return l.height&&(t.height=U(l.height)),l.maxHeight&&(t.maxHeight=U(l.maxHeight)),[l.wrapStyle,t]}),c=H(()=>[l.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!l.native}]),h=H(()=>[u.e("view"),l.viewClass]),g=()=>{var t;s.value&&((t=w.value)==null||t.handleScroll(s.value),o("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function T(t,_){we(t)?s.value.scrollTo(t):L(t)&&L(_)&&s.value.scrollTo(t,_)}const z=t=>{L(t)&&(s.value.scrollTop=t)},b=t=>{L(t)&&(s.value.scrollLeft=t)},v=()=>{var t;(t=w.value)==null||t.update()};return X(()=>l.noresize,t=>{t?(f==null||f(),m==null||m()):({stop:f}=me(p,v),m=M("resize",v))},{immediate:!0}),X(()=>[l.maxHeight,l.height],()=>{l.native||Y(()=>{var t;v(),s.value&&((t=w.value)==null||t.handleScroll(s.value))})}),de(j,pe({scrollbarElement:i,wrapElement:s})),he(()=>{l.native||Y(()=>{v()})}),be(()=>v()),n({wrapRef:s,update:v,scrollTo:T,setScrollTop:z,setScrollLeft:b,handleScroll:g}),(t,_)=>(N(),ee("div",{ref_key:"scrollbarRef",ref:i,class:R(E(u).b())},[W("div",{ref_key:"wrapRef",ref:s,class:R(E(c)),style:I(E(r)),onScroll:g},[(N(),A(ge(t.tag),{id:t.id,ref_key:"resizeRef",ref:p,class:R(E(h)),style:I(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:J(()=>[ye(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),t.native?Se("v-if",!0):(N(),A(De,{key:0,ref_key:"barRef",ref:w,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var Ye=D(Xe,[["__file","scrollbar.vue"]]);const Ge=ze(Ye);export{Ge as E,qe as d};
